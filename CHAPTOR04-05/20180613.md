# 도메인 격리

## LAYERED ARCHITECTURE (계층형 아키텍쳐)

 ### 도메인에 관련되 코드가 상당한 양의 도메인과 관련 없는 다른 코드들과 포함 될 경우 도메인에 관련된 코드를 확인하고 추론하기 힘들어진다. 
 
  - 일부 개발자들은 단기적으로 빠른 생산성을 위해서 종종 사용자 인터페이스, 데이터베이스, 기타 보조적인 성격의 코드를 비지니스 객체 또는 관련  컴포넌트에 
    추가해서 장기적으로 문제를 가져온다.해당 케이스로 인해서 UI의 표면적인 변경만 필요할 뿐인데 실질적인 업무로직을 변경하는 영향을 끼칠수 있고 자동화 테스트가 
    불가능해지며 이해하기 어려운 코드가 생산될 수 있다. 
    
 ###  복잡성이 높은 소프트웨어를 만들 경우 관심사의 분리가 필요하며 이를 통해 각 컴포넌트가 격리된 상태에 있는 설계 요소에 집중 가능하다. 
 ```
      그것이 계층형 아키텍쳐!! 
 ```
  - 계층화의 핵심 원칙은 한 계층의 모든 요소는 오직 같은 계층에 존재하는 요소나 계층상 하위 레이어에 위치한 요소에만 의존한다는 것이다. 
  - 일반적으로 사용자 인터페이스, 응용 계층, 도메인 계층, 인프라스트럭처 계층 으로 구분된다. 
 
 * 해당 이미지에서 확인 할수 있는 부분은 응용 계층이 아닌 도메인 계층에서 주요 업무 규칙을 책임지고 있다.
![layered_architecture_example-151714](https://github.com/fbwotjq/DDD_STUDY/blob/master/CHAPTOR04-05/layered_architecture_example.jpeg)  

   * 이미지에 대한 용어 설명 
      - 사용자 인터페이스 또는 표현 : 사용자의 요청을 처리하고 사용자에게 정보를 보여준다. 여기서 사용자는 소프트웨어를 사용하는 사람 뿐만 아니라 외부시스템
      도 사용자가 될 수 있다.
      - 응용 : 사용자가 요청한 기능을 실행한다. 업무 로직을 직접 구현하지 않으며 도메인 계층을 조합해서 기능을 실행한다.
      - 도메인 : 시스템이 제공할 모데인의 규칙을 구현한다.
      - 인프라스트럭처 : 데이터베이스나 메시징 시스템과 같은 외부 시스템과 연동을 처리한다.


# 소프트웨어에서 표현되는 모델('의 요소' 라고 하는게 이 챕터의 제목으로써 맞는 것 같다. 그리고 엔티티/벨류오브젝트/서비스 의 3가지로 구분이 된다.)

 ### 연관관계
  - 모델관의 관계를 말하며 연관관계를 쉽게 다루는 방법은 아래와 같다.
   1 . 탐생 방향을 부여한다.
   2 . 한정자(qualifier)를 추가해서 사실상 다중성을 줄인다.
   3 . 중요하지 않은 연관관계를 제거 한다.
   
 ### 엔티티 ( 참조객체 ) - 객체의 연속성 확립
  - 객체의 생명주기 내내 이어지는 추상적인 연속성을 말하며 그 추상적인 연속성이 여러 형태를 거쳐 전달 될수 있다라는 것을 근본적인 개념이라고 할수 있다.
  - 어떤 객체를 일차적으로 해당 객체의 실별성으로 정의할 경우 그 객체를 ENTITY라고 한다.
  
 ### VALUE OBJECT ( 값 객체 )
  - 사물의 어떤 특징을 묘사, 개념적 식별성을 갖지 않으면서 도메인의 서술적 측면을 나타내는 객체를 말함 
  - immutable 해야하지만 예외케이스가 존재한다.
  
 ### SERVICE 
  - 
  - 특징
   1 . 연산이 원래부터 엔티티나 VALUE OBJECT의 일부를 구성하는 것이 아니라 도메인 개념과 관련이 있다.
   2 . 인터페이스가 도메인 모델의 외적 요소의 측면에서 정의된다.
   3 . 연산이 상태를 갖지 않는다. 
 
  
